# change host names to your reserved nodes, the
# required quantity is indicated by the placeholders

defaultENV:
  #!filter-only : /run/envs_CRT_CTX_SHARE_ADDR/sep
  #!filter-only : /run/tests/proto
  D_LOG_MASK: "DEBUG,MEM=ERR"
  CRT_PHY_ADDR_STR: "ofi+sockets"
  OFI_INTERFACE: "eth0"
  CRT_CTX_NUM: "16"
env_CRT_CTX_SHARE_ADDR: !mux
  sep:
    env: sep
    CRT_CTX_SHARE_ADDR: "1"
  no_sep:
    env: no_sep
    CRT_CTX_SHARE_ADDR: "0"
hosts: !mux
  hosts_1:
    config: one_node
    server:
      - boro-A
    client:
      - boro-A
tests: !mux
  proto:
    name: proto_basic
    server: tests/test_proto_server
    srv_arg: "--name service_group  --is_service"
    srv_env: ""
    srv_ppn: "1"
    client: tests/test_proto_client
    cli_arg: " --name client_group --attach_to service_group"
    cli_env: ""
    cli_ppn: "1"
    status: PASS
  echo:
    name: echo_basic
    server: tests/crt_echo_srv
    srv_arg: ""
    srv_env: ""
    srv_ppn: "1"
    client: tests/crt_echo_cli
    cli_arg: ""
    cli_env: ""
    cli_ppn: "1"
    status: PASS
  test_group:
    name: test_group_basic
    server: tests/test_group
    srv_arg: "--name service_group --is_service"
    srv_env: "-x D_FI_CONFIG=../etc/fault-inject-cart.yaml"
    srv_ppn: "1"
    client: tests/test_group
    cli_arg: "--name client_group --attach_to service_group"
    cli_env: "-x D_FI_CONFIG=../etc/fault-inject-cart.yaml"
    cli_ppn: "1"
    status: PASS
  ep_credits_1:
    name: ep_credits_1
    server: tests/test_ep_cred_server
    srv_arg: "-n cred_group -s"
    srv_env: ""
    srv_ppn: "1"
    client: tests/test_ep_cred_client
    cli_arg: "-a cred_group -c 1 -b 20 -f -q"
    cli_env: ""
    cli_ppn: "1"
    status: PASS
  ep_credits_2:
    name: ep_credits_2
    server: tests/test_ep_cred_server
    srv_arg: "-n cred_group -s"
    srv_env: ""
    srv_ppn: "1"
    client: tests/test_ep_cred_client
    cli_arg: "-a cred_group -c 5 -b 20 -q"
    cli_env: ""
    cli_ppn: "1"
    status: PASS
  ep_credits_3:
    name: ep_credits_3
    server: tests/test_ep_cred_server
    srv_arg: "-n cred_group -s"
    srv_env: ""
    srv_ppn: "1"
    client: tests/test_ep_cred_client
    cli_arg: "-a cred_group -c 10 -b 20 -q"
    cli_env: ""
    cli_ppn: "1"
    status: PASS
  ep_credits_4:
    name: ep_credits_4
    server: tests/test_ep_cred_server
    srv_arg: "-n cred_group -s"
    srv_env: ""
    srv_ppn: "1"
    client: tests/test_ep_cred_client
    cli_arg: "-a cred_group -c 20 -b 20 -q"
    cli_env: ""
    cli_ppn: "1"
    status: PASS
  ep_credits_5:
    name: ep_credits_5
    server: tests/test_ep_cred_server
    srv_arg: "-n cred_group -s"
    srv_env: ""
    srv_ppn: "1"
    client: tests/test_ep_cred_client
    cli_arg: "-a cred_group -c 255 -b 20 -q"
    cli_env: ""
    cli_ppn: "1"
    status: PASS
  ep_credits_6:
    name: ep_credits_6
    server: tests/test_ep_cred_server
    srv_arg: "-n cred_group -s"
    srv_env: ""
    srv_ppn: "1"
    client: tests/test_ep_cred_client
    cli_arg: "-a cred_group -c 0 -b 20 -q"
    cli_env: ""
    cli_ppn: "1"
    status: PASS
